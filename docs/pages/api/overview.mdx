# API Overview

The SaaS Starter Kit provides a comprehensive REST API for integrating with external services and building custom applications.

## Base URL

```
https://your-domain.com/api
```

## Authentication

The API supports two authentication methods:

### 1. Session Authentication

For requests from the web application:
- Uses Clerk session cookies
- Automatically handled in the browser

### 2. API Key Authentication

For external integrations:
```bash
curl https://your-domain.com/api/example \
  -H "Authorization: Bearer sk_live_..."
```

## Content Type

All requests and responses use JSON:

```
Content-Type: application/json
```

## Rate Limiting

Rate limits are enforced based on subscription tier:

| Tier | Requests/Minute |
|------|----------------|
| Free | 10 |
| Starter | 100 |
| Professional | 1,000 |
| Enterprise | 10,000 |

Rate limit headers are included in responses:
```
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
```

## Common Response Formats

### Success Response

```json
{
  "success": true,
  "data": {
    // Response data
  }
}
```

### Error Response

```json
{
  "error": "Error message",
  "code": "ERROR_CODE",
  "details": {
    // Additional error details
  }
}
```

## HTTP Status Codes

| Code | Description |
|------|-------------|
| 200 | Success |
| 201 | Created |
| 400 | Bad Request |
| 401 | Unauthorized |
| 403 | Forbidden |
| 404 | Not Found |
| 429 | Rate Limited |
| 500 | Server Error |

## Pagination

List endpoints support pagination:

```
GET /api/resource?page=1&limit=20
```

Response includes pagination metadata:

```json
{
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "pages": 5
  }
}
```

## Webhooks

The API sends webhooks for important events:

- User events (via Clerk)
- Payment events (via Stripe)
- Custom application events

Configure webhook endpoints in your account settings.

## SDK Support

While no official SDK is provided, the API is designed to work with any HTTP client:

### JavaScript/TypeScript

```typescript
const response = await fetch('https://your-domain.com/api/example', {
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json',
  },
});

const data = await response.json();
```

### Python

```python
import requests

response = requests.get(
  'https://your-domain.com/api/example',
  headers={
    'Authorization': f'Bearer {api_key}',
    'Content-Type': 'application/json',
  }
)

data = response.json()
```

## API Versioning

The API uses date-based versioning through headers:

```
API-Version: 2024-01-01
```

Breaking changes are communicated in advance with deprecation notices.